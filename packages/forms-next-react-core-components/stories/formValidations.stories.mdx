import {Meta, Story} from '@storybook/addon-docs';
import {AdaptiveForm} from "@aemforms/forms-super-component";

<Meta title="Adaptive Form/Validations" component={AdaptiveForm} />

# Form Validations

A Form definition can specify validations on the data that is being produced by the form in terms of
[Constraints](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#_form_field_constraints).
The Form uses JSON Schema vocabulary to define simple constraints on the form, which allows a Form to be
created from a JSON Schema without loosing most of the constraints in the Form Definition

The following constraints are supported in the Schema

## Type

A Form Field can specify any of the
[data types](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#_data_types) supported in
the specification. The value is coerced into the type before submitting the value

### Default Types

The default type is `string`

<Story id="reference-json-constraints-type-string--string" />

with the exception of Checkbox Group, File and enum types, which is `[]` and `file` and `typeof enum` respectively

<Story id="adaptive-form-components-checkbox--group" />

<Story id="adaptive-form-components-file-upload--default-story" />

<Story id="reference-json-constraints-type-auto--enum-type" />


### Explicit

The [type](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/index.html#field-constraints-type) constraint
can be use to define explicit property types.

The [table](https://git.corp.adobe.com/livecycle/af2-docs/issues/120#issue-3380663) specifies all the types that are
supported for the different field's

A text field can capture boolean or number values as well

<Story id="reference-json-constraints-type-number--text-input" />

<Story id="reference-json-constraints-type-boolean--boolean" />

# Required

The [required](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-required)
property indicates whether the value of that field can be
[empty](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-properties-emptyValue)
or not. For checkboxes, the require constraint indicates that the checkbox must be on (i.e. its value should be on value)

<Story id="reference-json-constraints-required--required-field" />

## For Radio Group

<Story id="reference-json-constraints-required--required-radio-group" />

# Format

The [format](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-format) constraint
is supported for string types and allows creation of date fields

<Story id="reference-json-constraints-format--date" />

# String Constraints

For string data types, the following constraints are supported

* [MinLength](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-minLength)
* [MaxLength](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-minLength)
* [pattern](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-minLength)

<Story id="reference-json-constraints-multiple-constraints--string-constraints" />

# Number Constraints

For number data type, the following constraints are supported

* [Minimum](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-minimum)
* [Maximum](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-maximum)
* [exclusiveMinimum](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints--exclusive-minimum)
* [exclusiveMaximum](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints--exclusive-maximum)
* [step](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-step)

<Story id="reference-json-constraints-multiple-constraints--string-constraints" />

<Story id="reference-json-constraints-multiple-constraints--number-constraints" />


# Date Constraints

For date data type `{type: string, format: date}`, the following constraints are supported

* [Minimum](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-minimum)
* [Maximum](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-maximum)
* [step](https://git.corp.adobe.com/pages/livecycle/af2-docs/spec/latest/#field-constraints-step)

<Story id="reference-json-constraints-multiple-constraints--date-constraints" />



# Reference

[Reference](?path=/story/reference-json-constraints--minimum)